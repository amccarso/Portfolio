svg = '''<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   id="svg8"
   version="1.1"
   viewBox="0 0 105.26123 40.105999"
   height="40.105999mm"
   width="105.26123mm">
  <defs
     id="defs2">
    <clipPath
       id="clipPath865"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path867"
         d="m -76.2,144.60001 c 50.8,-25.4 76.2,-25.4 101.6,0 -25.4,25.4 -50.8,25.4 -101.6,0 z"
         style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#000001;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2.00600004;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
    </clipPath>
  </defs>
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(-23.157224,-149.947)"
     id="layer1">
    <g
       style="opacity:1"
       clip-path="url(#clipPath865)"
       transform="translate(101.6,25.399994)"
       id="g845">
      <g
         transform="translate(-0.41216036)"
         id="g880">
        <circle
           r="25.4"
           cy="CENTER_Y"
           cx="CENTER_X"
           id="path835"
           style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#8888ff;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2.00600004;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
        <g
           id="g840"
           style="opacity:1;fill:#000000;fill-opacity:1">
          <circle
             r="8.5620193"
             cy="CENTER_Y"
             cx="CENTER_X"
             id="circle837"
             style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.67619723;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
        </g>
      </g>
    </g>
    <path
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.00600004;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate"
       d="m 25.4,170 c 50.799999,-25.4 76.2,-25.4 101.6,0 -25.4,25.4 -50.800001,25.4 -101.6,0 z"
       id="path863" />
  </g>
</svg>
'''


svg = '''<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   id="svg1699"
   version="1.1"
   viewBox="0 0 94.872055 51.026783"
   height="51.026783mm"
   width="94.872055mm">
  <defs
     id="defs1693">
    <clipPath
       id="clipPath978"
       clipPathUnits="userSpaceOnUse">
      <path
         id="path980"
         d="m -90.424571,169.26703 c -0.826924,-11.9283 30.135244,-42.14526 56.911823,-46.54005 24.3572772,-3.99771 55.9875,12.76809 63.427467,22.47219 -13.037693,22.33642 -37.8766049,33.44776 -53.321611,34.04073 -19.002788,0.72957 -50.35768,-11.63049 -67.017679,-9.97287 z"
         style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:none;fill-opacity:0.51612902;fill-rule:nonzero;stroke:#0a0a0a;stroke-width:0.70359772;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.5299539;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
    </clipPath>
  </defs>
  <metadata
     id="metadata1696">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(79.186028,-108.2009)"
     id="layer1">
    <rect
       y="108.2009"
       x="-79.186028"
       height="51.026783"
       width="94.872055"
       id="rect1000"
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#dab6a8;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.45317072;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.98617512;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
    <path
       id="path982"
       d="m 9.7745095,147.90412 c 0.5876285,-8.47665 -21.4151115,-29.94983 -40.4433735,-33.07292 -17.309089,-2.8409 -39.78659,9.07343 -45.07367,15.9695 9.26501,15.873 26.916369,23.76909 37.892119,24.19047 13.504,0.51846 35.7857835,-8.26501 47.6249245,-7.08705 z"
       style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#ffffff;fill-opacity:0.98617512;fill-rule:nonzero;stroke:#000000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.98617512;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
    <g
       id="g994"
       transform="matrix(-0.71063337,0,0,0.71063337,-54.509234,27.616976)"
       clip-path="url(#clipPath978)"
       style="opacity:1">
      <g
         id="g992"
         transform="translate(-6.826629,-3.2072343)"
         clip-path="none"
         style="opacity:1">
        <g
           id="g990"
           transform="translate(-2.1381562,-1.6036172)">
          <circle
             r="25.4"
             cy="IRIS_CY"
             cx="IRIS_CX"
             id="circle984"
             style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:0.58899997;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:IRIS_COLOR;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:2.00600004;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
          <g
             transform="translate(-39.28862,3.2072343)"
             id="g988"
             style="opacity:1;fill:#000000;fill-opacity:0.78801838">
            <circle
               r="8.5620193"
               cy="PUPIL_CY"
               cx="PUPIL_CX"
               id="circle986"
               style="color:#000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:#000000;solid-opacity:1;vector-effect:none;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:0.67619723;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate" />
          </g>
        </g>
      </g>
    </g>
  </g>
</svg>
'''

prefix = 'one_eye'

xoffset = 5
yoffset = 10
ampx,ampy = 40,15

iris_cy0=144.60001  + yoffset
iris_cx0=-25.4      + xoffset
pupil_cy0=141.39278 + yoffset
pupil_cx0=13.88862  + xoffset

def iris_color():
	return '#5c3500'
	#return randomhexcolor()

nimages = 1000


from os.path import join, exists, basename
from os import makedirs
import os
import numpy as np
from randomhexcolor import randomhexcolor
from cairosvg import svg2png

def drawsvg(i,x,y,folder):
    if not exists(folder):
        makedirs(folder)
    pngname = join(folder,str(i).zfill(4)+'_one_eye_x' + str(x) + '_y' + str(y) + '.png')
    print( '<img src=' + basename(pngname) + '>', file=html )

    #cx = -15#-25.4
    #cy = 144.6

    iris_cx = iris_cx0 + x
    iris_cy = iris_cy0 + y
    pupil_cx = pupil_cx0 + x
    pupil_cy = pupil_cy0 + y

    with open('temp.svg','w') as f:
        f.write( svg.replace('IRIS_CX',str(iris_cx)).replace('IRIS_CY',str(iris_cy)).replace('PUPIL_CX',str(pupil_cx)).replace('PUPIL_CY',str(pupil_cy)).replace('IRIS_COLOR',iris_color()) )

    with open('temp.svg') as f:
        svgtext = f.read()
        print('svg2png',pngname)
        svg2png(bytestring=svgtext,write_to=pngname)


folder = prefix
if not exists(folder):
	os.makedirs(folder)
else: 
	os.system( 'rm ' + join( folder, '*.png' ) )

txt  = open( join( folder, prefix+'.txt' ), 'w' )
html = open( join( folder, prefix+'.html'), 'w' )

for i in range(nimages):
	rx,ry = 2*np.random.rand(2) - 1
	x = round( ampx*rx, 3 )
	y = round( ampy*ry, 3 )
	drawsvg(i, x,y  , folder )
	print( x, y, file=txt )
os.system('rm temp.svg 2> /dev/null 1> /dev/null')
